using UnityEngine;
using UnityEngine.TestTools;
using NUnit.Framework;
using System;
using System.IO;
using System.Collections;
using System.Collections.Generic;

using GameDevWare.Serialization;
using com.fpnn;
using com.rum;

public class Test_Debug {

    [SetUp]
    public void SetUp() {}

    [TearDown]
    public void TearDown() {}

    [UnityTest]
    public IEnumerator Debug_HexString() {

        // string hex_str = "84A3706964D202719C4FA47369676ED9204145363131364130304434413443393433413630383337393236333646333237A473616C74D3000592D0F54C6A7CA66576656E74739C87A5617474727388AD72656769737465725F74696D65D1051CA952616E6B4C6576656C01A974696D657374616D70CA42032DEBA66170705F6964A6313030303035AB73646B5F76657273696F6EA5312E382E31AB636C69656E745F75756964D9203335356361663065666261356532303036666335313663333739336335343331A466706964AB3530313339323136363338AB72756D5F76657273696F6EA5312E312E38A26576B945545F53696E676C6552616E6B5F456E746572426174746C65A3656964D3000592D0F4A38FDDA3706964D202719C4FA3736964D3000592D0F2D94763A3756964D9203335356361663065666261356532303036666335313663333739336335343331A3726964D924313536383732323535333531312D634738312D413842342D38454537423730424132433487A5617474727389AD72656769737465725F74696D65D1051CA952616E6B4C6576656C01A974696D657374616D70CA420333ACA66170705F6964A6313030303035AB73646B5F76657273696F6EA5312E382E31AB636C69656E745F75756964D9203335356361663065666261356532303036666335313663333739336335343331A466706964AB3530313339323136363338AB72756D5F76657273696F6EA5312E312E38A474696D65D1051CA26576B946545F53696E676C6552616E6B5F456E746572426174746C65A3656964D3000592D0F4A3A366A3706964D202719C4FA3736964D3000592D0F2D94763A3756964D9203335356361663065666261356532303036666335313663333739336335343331A3726964D924313536383732323535333531312D634738312D413842342D38454537423730424132433487A5617474727386A974696D657374616D70CA4205D12BA66170705F6964A6313030303035AB73646B5F76657273696F6EA5312E382E31AB636C69656E745F75756964D9203335356361663065666261356532303036666335313663333739336335343331A466706964AB3530313339323136363338AB72756D5F76657273696F6EA5312E312E38A26576BB45545F53746172744C6F61645F456E74657247616D655F31313033A3656964D3000592D0F4ADA1FFA3706964D202719C4FA3736964D3000592D0F2D94763A3756964D9203335356361663065666261356532303036666335313663333739336335343331A3726964D924313536383732323535333531312D634738312D413842342D38454537423730424132433487A5617474727387A974696D657374616D70CA4205D693A66170705F6964A6313030303035AB73646B5F76657273696F6EA5312E382E31AB636C69656E745F75756964D9203335356361663065666261356532303036666335313663333739336335343331A466706964AB3530313339323136363338AB72756D5F76657273696F6EA5312E312E38A474696D65D1051CA26576BB46545F53746172744C6F61645F456E74657247616D655F31313033A3656964D3000592D0F4ADB588A3706964D202719C4FA3736964D3000592D0F2D94763A3756964D9203335356361663065666261356532303036666335313663333739336335343331A3726964D924313536383732323535333531312D634738312D413842342D38454537423730424132433487A5617474727386A974696D657374616D70CA420BD7B6A66170705F6964A6313030303035AB73646B5F76657273696F6EA5312E382E31AB636C69656E745F75756964D9203335356361663065666261356532303036666335313663333739336335343331A466706964AB3530313339323136363338AB72756D5F76657273696F6EA5312E312E38A26576BA45545F53746F704C6F61645F456E74657247616D655F31313033A3656964D3000592D0F4C49CD1A3706964D202719C4FA3736964D3000592D0F2D94763A3756964D9203335356361663065666261356532303036666335313663333739336335343331A3726964D924313536383732323535333531312D634738312D413842342D38454537423730424132433487A5617474727387A974696D657374616D70CA420BDD46A66170705F6964A6313030303035AB73646B5F76657273696F6EA5312E382E31AB636C69656E745F75756964D9203335356361663065666261356532303036666335313663333739336335343331A466706964AB3530313339323136363338AB72756D5F76657273696F6EA5312E312E38A474696D65D1051CA26576BA46545F53746F704C6F61645F456E74657247616D655F31313033A3656964D3000592D0F4C4B442A3706964D202719C4FA3736964D3000592D0F2D94763A3756964D9203335356361663065666261356532303036666335313663333739336335343331A3726964D924313536383732323535333531312D634738312D413842342D38454537423730424132433487A5617474727386A974696D657374616D70CA420C5EDEA66170705F6964A6313030303035AB73646B5F76657273696F6EA5312E382E31AB636C69656E745F75756964D9203335356361663065666261356532303036666335313663333739336335343331A466706964AB3530313339323136363338AB72756D5F7665";

        // int len = hex_str.Length / 2;
        // byte[] bytes = new byte[len];

        // string hex;
        // int j = 0;
        // for (int i = 0; i < bytes.Length; i++) {
        //     hex = new String(new Char[] { hex_str[j], hex_str[j + 1] });
        //     bytes[i] = byte.Parse(hex, System.Globalization.NumberStyles.HexNumber);
        //     j = j + 2;
        // }
        // Debug.Log("len:" + bytes.Length + ", str10: " + System.Text.Encoding.UTF8.GetString(bytes));
        

        // string path = "/Users/di.zhao/Desktop/data.bytes";
        // using (FileStream fs = new FileStream(path, FileMode.Create, FileAccess.Write)) {

        //     fs.Write(bytes, 0, bytes.Length);
        // }
        // Debug.Log("check the bytes file: " + path);

        yield return null;
    }

    [UnityTest]
    public IEnumerator Debug_WriteFile() {

        // byte[] bytes = new byte[0];

        // string path = "/Users/di.zhao/Desktop/data.bytes";
        // using (FileStream fs = new FileStream(path, FileMode.Create, FileAccess.Write)) {

        //     fs.Write(bytes, 0, bytes.Length);
        // }
        // Debug.Log("check the bytes file: " + path);

        yield return null;
    }

    [UnityTest]
    public IEnumerator Debug_MsgPack_Deserialize() {

        // IDictionary<string, object> payload = null;

        // try {

        //     using (MemoryStream inputStream = new MemoryStream(bytes)) {

        //         payload = MsgPack.Deserialize<IDictionary<string, object>>(inputStream);
        //     }
        // } catch (Exception ex) {

        //     Debug.LogError(ex);
        // }

        // Debug.Log(Json.SerializeToString(payload));

        yield return null;
    }

    [UnityTest]
    public IEnumerator Debug_MsgPack_Serialize() {

        // byte[] bytes = new byte[0];
        // IDictionary<string, object> payload = null;

        // try {

        //     using (MemoryStream outputStream = new MemoryStream()) {

        //         MsgPack.Serialize(payload, outputStream);
        //         outputStream.Seek(0, SeekOrigin.Begin);

        //         bytes = outputStream.ToArray();
        //     }
        // } catch (Exception ex) {

        //     Debug.LogError(ex);
        // }

        // Debug.Log("bytes len: " + bytes.Length);

        yield return null;
    }
}
